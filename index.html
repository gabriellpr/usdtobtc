<!DOCTYPE html>
<html>
<head>
	<title>Bitcoin para dólar</title>

	<link rel="stylesheet" type="text/css" href="./styles.css">
	<script src="https://kit.fontawesome.com/199b72f6ff.js" crossorigin="anonymous"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
	<header>
		<nav>
			<ul>
				<li> <a href="billionaires-checks.html">Billionaires Checks</a></li>
				<li> <a href="index.html">Ínicio</a></li>
				<li> <a href="https://billionaires-beta.vercel.app/">Billionaires Br </a></li>
			</ul>
			
		</nav>
	</header>
	<main>
		

		<h1>Quanto você teria em <span>Dólares </span>se tivesse investido em <span>Bitcoin</span> 5 anos átras?</h1>
		<section>
			<div class="section-left">
                <input type="number" class="amount-first" value="1">
                <select id="currency-first">
                    <option value="USD" selected>USD</option>
                    <option value="BRL">BRL</option>
                </select>
            </div>
		</section>

		<button onclick="calc()" class="swap">
                <i class="fas fa-exchange-alt"></i>
        </button>

		<h3>Atualmente você teria...</h3>
		<p class="rate-info"></p>

	</main>

	<footer>
		<h2>Billionaires</h2>
	</footer>


	<script type="text/javascript">
		const currencyFirst = document.querySelector('#currency-first');
		const currencySecond = document.querySelector('#currency-second');
		const amountFirst = document.querySelector('.amount-first');
		const btnSwap = document.querySelector('.swap');
		const rateInfo = document.querySelector('.rate-info');

		let url;

		const calc = () => {
			fetch("https://bitcoinaverage-global-bitcoin-index-v1.p.rapidapi.com/indices/global/ticker/BTCUSD", {
					"method": "GET",
					"headers": {
						"x-rapidapi-host": "bitcoinaverage-global-bitcoin-index-v1.p.rapidapi.com",
						"x-rapidapi-key": "152bd4b7bbmsh7872e47285841e9p13c288jsn0b0e587859e5"
					}
				})
				.then(res => res.json())
				.then(data => {

					let btc = data.ask;
					vezes = btc / 577;
					console.log(vezes);


					let resultado = amountFirst.value  * vezes;

					var intvalue = Math.round( resultado );

					rateInfo.textContent = "U$D " + intvalue + ",00";

				})


		}

		const change = () => {
    		let tempCurrency = currencyFirst.value;
    		currencySecond.value = tempCurrency;
}

currencyFirst.addEventListener('change', calc);
amountFirst.addEventListener('input', calc);
btnSwap.addEventListener('click', change);


	</script>
</body>
</html>